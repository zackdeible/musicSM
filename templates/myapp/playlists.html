{% extends "front.html" %}

{% load static %}


{% block links %}
<!-- PUT ANY CSS LINKS IN HERE -->
<script type="text/javascript">


</script>
{% endblock links %}



{% block body %}
<!-- PUT YOUR BODY IN HERE -->

<div class="container">
  <h2>Current Playlists</h2>
  <div class="row">
    <div class="col">
      <h3>Playlist Name</h3>
    </div>
</div>
<ul class="list-group" style="max-height:75vh; overflow:scroll">
{% for playlist in playlists %}
  <li class="list-group-item">
    <div class="row">
      <div class="col">
        <p id="playlistName">{{ playlist.playlist_name}}</p>
      </div>

        <div class="col">
          <button  class="btn btn-dark" style="background-color: #67009a" onclick="sendUploadRequest('{{ playlist.playlist_name}}')" >Upload</button>
        </div>


    </div>
  </li>
{% endfor %}
</ul>

  <h2>Create New Playlist</h2>

  <form action="/playlists/" method="post">
    {% csrf_token %}
    <div class="input-group">
      <input type="text" name="playlist-name" class="form-control" placeholder="Enter playlist name ">
      <button type="submit" class="btn btn-success" name="create-playlist">Create</button>

    </div>

  </form>

</div>

{% endblock body %}




{% block scripts %}
<!-- PUT JS LINKS IN HERE -->
<script type="text/javascript" src="{% static 'js/jquery-3.5.0.min.js' %}"></script>


<script type="text/javascript">


function sendUploadRequest(playlistName) {
  var playlistName = playlistName
  console.log(playlistName)



  $.ajax({
    type: 'POST',
    url: '/exportPlaylist/',
    data: {
      csrfmiddlewaretoken: "{{ csrf_token }}",
    }


  })

}

</script>





{% endblock scripts %}
